{% extends "base.html" %}

{% load static %}
{% load custom_filters %}

{% block content %}
  <h3>
    <img src="{% static 'images/icons8-folder.svg' %}" alt="folder icon" />
    &nbsp{{ folder_name }}
  </h3>
  <form method="post" action="{% url 'yd_files:bulk_download' %}">
    {% csrf_token %}
    <table class="file_list">
      <thead>
        <tr>
          <th>Select</th>
          <th>Filename</th>
          <th>Size</th>
        </tr>
      </thead>
      <tbody>
        {% for folder in folders %}
          <li>
            <img src="{% static 'images/icons8-folder.svg' %}" alt="folder icon" />
            &nbsp<a href="{% url 'yd_files:folder_detail' folder.path|slice:'1:' %}">{{ folder.name }}</a>
          </li>
        {% endfor %}
        {% for file in files %}
          <tr class="file_list_border">
            <td>
              <input type="checkbox" name="selected_files" value="{{ file.id }}" />
            </td>
            <td>
              <a style="white-space: nowrap"
                 href="{% url 'yd_files:file_detail' file.id %}">{{ file.name }}</a>
            </td>
            <td>{{ file.size|convert_bytes }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <br />
    <button type="submit">Download Selected</button>
  </form>
{% endblock content %}
